/* "Kalypto - Replace Radio/Checkbox Inputs" MIT license, LocalPCGuy, http://localpcguy.github.com/Kalypto */
!function(t,e){t.kalypto=function(e,s){var n,a=this,i=t(e),c={toggleClass:"toggle",checkedClass:"checked",hideInputs:!0,copyInputClasses:!0,dataLabel:i.data("label")||"",checkedEvent:"k_checked",uncheckedEvent:"k_unchecked",elBuiltEvent:"k_elbuilt",customClasses:""},l=function(){i.next().hasClass(a.settings.toggleClass)||(i.after(function(){var t=a.settings.toggleClass;if(a.settings.copyInputClasses){var e=i.attr("class");e&&(t+=" "+e)}return a.settings.customClasses.length&&(t+=" "+a.settings.customClasses),i.is(":checked")?"<span class='"+t+" "+a.settings.checkedClass+"'>"+a.settings.dataLabel+"</span>":"<span class='"+t+"'>"+a.settings.dataLabel+"</span>"}),a.settings.hideInputs&&i.hide(),n=i.next(),i.trigger(a.settings.elBuiltEvent))},g=function(e){var s="radio"===i.attr("type")?t('input[name="'+i.attr("name")+'"]'):i,n=function(){"radio"===i.attr("type")&&s.each(function(e,s){var n=t(s);n.next().removeClass(a.settings.checkedClass),n.is(":checked")||a.lastClickedEl===n.next().get(0)||n.trigger(a.settings.uncheckedEvent)}),i.is(":checked")?i.trigger(a.settings.checkedEvent):i.trigger(a.settings.uncheckedEvent),i.next().toggleClass(a.settings.checkedClass)};"INPUT"!==this.tagName?(e.preventDefault(),a.lastClickedEl=this,i.trigger("click")):setTimeout(n,0)},d=function(){i.next().bind("click",g),i.bind("change",g)};a.settings={},a.init=function(){a.settings=t.extend({},c,s),l(),d()},a.init()},t.fn.kalypto=function(s){return this.each(function(){if(e===t(this).data("kalypto")){var n=new t.kalypto(this,s);t(this).data("kalypto",n)}})}}(jQuery);